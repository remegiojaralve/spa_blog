{"remainingRequest":"/Users/rj/Trainings/GoalSPA/spa_blog/node_modules/babel-loader/lib/index.js!/Users/rj/Trainings/GoalSPA/spa_blog/node_modules/eslint-loader/index.js??ref--13-0!/Users/rj/Trainings/GoalSPA/spa_blog/src/store/modules/post.js","dependencies":[{"path":"/Users/rj/Trainings/GoalSPA/spa_blog/src/store/modules/post.js","mtime":1598949054785},{"path":"/Users/rj/Trainings/GoalSPA/spa_blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/rj/Trainings/GoalSPA/spa_blog/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/rj/Trainings/GoalSPA/spa_blog/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9yai9UcmFpbmluZ3MvR29hbFNQQS9zcGFfYmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBzdGF0ZSA9IHsKICBwb3N0TGlzdDogW10sCiAgbGF0ZXN0UG9zdHM6IFtdLAogIGxvYWRNb3JlUG9zdHM6IFtdLAogIHNpbmdsZVBvc3Q6IHt9LAogIGF1dGhLZXk6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdhdXRoZW50aWNhdGUnKSB8fCBudWxsCn07CnZhciBnZXR0ZXJzID0gewogIGFsbFBvc3RzOiBmdW5jdGlvbiBhbGxQb3N0cyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnBvc3RMaXN0OwogIH0sCiAgYWxsTGF0ZXN0UG9zdHM6IGZ1bmN0aW9uIGFsbExhdGVzdFBvc3RzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubGF0ZXN0UG9zdHM7CiAgfSwKICBwb3N0RGV0YWlsOiBmdW5jdGlvbiBwb3N0RGV0YWlsKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuc2luZ2xlUG9zdDsKICB9LAogIGFsbExvYWRNb3JlUG9zdHM6IGZ1bmN0aW9uIGFsbExvYWRNb3JlUG9zdHMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5sb2FkTW9yZVBvc3RzOwogIH0sCiAgaXNMb2dpbmVkOiBmdW5jdGlvbiBpc0xvZ2luZWQoKSB7CiAgICByZXR1cm4gc3RhdGUuYXV0aEtleSAhPT0gbnVsbDsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGZldGNoUG9zdHM6IGZ1bmN0aW9uIGZldGNoUG9zdHMoX3JlZikgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgZGF0YSwgY29uZmlnOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgIHF1ZXJ5OiAncXVlcnl7XG4gIHBvc3RzKFxuICAgIHBhZ2luYXRpb246IHtcbiAgICAgIGxpbWl0OiA2LFxuICAgICAgb2Zmc2V0OiAzXG4gICAgfVxuICApe1xuICAgIGlkLCB0aXRsZSwgY29udGVudCwgaW1hZ2UsIGNyZWF0ZWRBdCwgY29tbWVudHMge1xuICAgICAgaWQsIGNvbnRlbnRcbiAgICB9XG4gIH1cbn0nLAogICAgICAgICAgICAgICAgdmFyaWFibGVzOiB7fQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAwLycsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRQb3N0cycsIHJlc3BvbnNlLmRhdGEuZGF0YS5wb3N0cyk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBmZXRjaExhdGVzdFBvc3RzOiBmdW5jdGlvbiBmZXRjaExhdGVzdFBvc3RzKF9yZWYyKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgZGF0YSwgY29uZmlnOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgcXVlcnk6ICdxdWVyeXtcbiAgcG9zdHMoXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgbGltaXQ6IDMsXG4gICAgICBvZmZzZXQ6IDBcbiAgICB9XG4gICl7XG4gICAgaWQsIHRpdGxlLCBjb250ZW50LCBpbWFnZSwgY3JlYXRlZEF0LCBjb21tZW50cyB7XG4gICAgICBpZCwgY29udGVudFxuICAgIH1cbiAgfVxufScsCiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHt9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjQwMDAvJywKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRMYXRlc3RQb3N0cycsIHJlc3BvbnNlLmRhdGEuZGF0YS5wb3N0cyk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGZldGNoU2luZ2xlUG9zdDogZnVuY3Rpb24gZmV0Y2hTaW5nbGVQb3N0KF9yZWYzLCBpZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgIHZhciBjb21taXQsIGRhdGEsIGNvbmZpZzsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgICAgICAgICAgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgIHF1ZXJ5OiAicXVlcnl7XG4gIHBvc3QoXG4gICBpZDogIi5jb25jYXQoaWQsICJcbiAgKXtcbiAgICBpZCwgdGl0bGUsIGNvbnRlbnQsIGltYWdlLCBjcmVhdGVkQXQsIGNvbW1lbnRzIHtcbiAgICAgIGlkLCBjb250ZW50LCBjcmVhdGVkQXRcbiAgICB9XG4gIH1cbn0iKSwKICAgICAgICAgICAgICAgIHZhcmlhYmxlczoge30KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb25maWcgPSB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC8nLAogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBheGlvcyhjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgcG9zdERldGFpbCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5wb3N0OwogICAgICAgICAgICAgICAgY29tbWl0KCdzaW5nbGVQb3N0JywgcG9zdERldGFpbCk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMyk7CiAgICB9KSkoKTsKICB9LAogIGZldGNoTG9hZE1vcmVQb3N0czogZnVuY3Rpb24gZmV0Y2hMb2FkTW9yZVBvc3RzKF9yZWY0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgdmFyIGNvbW1pdCwgZGF0YSwgY29uZmlnOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICBkYXRhID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgcXVlcnk6ICdxdWVyeXtcbiAgcG9zdHMoXG4gICAgcGFnaW5hdGlvbjoge1xuICAgICAgbGltaXQ6IDYsXG4gICAgICBvZmZzZXQ6IDZcbiAgICB9XG4gICl7XG4gICAgaWQsIHRpdGxlLCBjb250ZW50LCBpbWFnZSwgY3JlYXRlZEF0LCBjb21tZW50cyB7XG4gICAgICBpZCwgY29udGVudFxuICAgIH1cbiAgfVxufScsCiAgICAgICAgICAgICAgICB2YXJpYWJsZXM6IHt9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY29uZmlnID0gewogICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjQwMDAvJywKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRMb2FkTW9yZVBvc3RzJywgcmVzcG9uc2UuZGF0YS5kYXRhLnBvc3RzKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0sCiAgLy8gYXN5bmMgZmV0Y2hQb3N0RGV0YWlsICh7IGNvbW1pdCB9LCBwb3N0SWQpIHsKICAvLyAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7CiAgLy8gICAgIHF1ZXJ5OiBgcXVlcnl7XG4gIHBvc3QoXG4gICBpZDogJHtwb3N0SWR9XG4gICl7XG4gICAgaWQsIHRpdGxlLCBjb250ZW50LCBpbWFnZSwgY3JlYXRlZEF0LCBjb21tZW50cyB7XG4gICAgICBpZCwgY29udGVudCwgY3JlYXRlZEF0XG4gICAgfVxuICB9XG59YCwKICAvLyAgICAgdmFyaWFibGVzOiB7fQogIC8vICAgfSkKICAvLyAgIGNvbnN0IGNvbmZpZyA9IHsKICAvLyAgICAgbWV0aG9kOiAncG9zdCcsCiAgLy8gICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC8nLAogIC8vICAgICBoZWFkZXJzOiB7CiAgLy8gICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogIC8vICAgICB9LAogIC8vICAgICBkYXRhOiBkYXRhCiAgLy8gICB9CiAgLy8gICBhd2FpdCBheGlvcyhjb25maWcpCiAgLy8gICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vICAgICAgIGNvbW1pdCgnc2V0UG9zdERldGFpbCcsIHJlc3BvbnNlLmRhdGEuZGF0YS5wb3N0cykKICAvLyAgICAgfSkKICAvLyB9LAogIGxvZ2luVXNlcjogZnVuY3Rpb24gbG9naW5Vc2VyKF9yZWY1LCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHZhciBkYXRhID0gSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHF1ZXJ5OiAibXV0YXRpb24ge1xuICBhdXRoZW50aWNhdGUoXG4gICAgZW1haWw6IFwiIi5jb25jYXQocGF5bG9hZC5lbWFpbCwgIlwiLFxuICAgIHBhc3N3b3JkOiBcIiIpLmNvbmNhdChwYXlsb2FkLnBhc3N3b3JkLCAiXCJcbiAgKVxufSIpLAogICAgICAgIHZhcmlhYmxlczoge30KICAgICAgfSk7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAwLycsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0sCiAgICAgICAgZGF0YTogZGF0YQogICAgICB9OwogICAgICBheGlvcyhjb25maWcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwogICAgICAgIHZhciBrZXkgPSByZXNwb25zZS5kYXRhLmRhdGEuYXV0aGVudGljYXRlOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdhdXRoZW50aWNhdGUnLCBrZXkpOwogICAgICAgIGNvbW1pdCgnc2V0QXV0aEtleScsIGtleSk7CiAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBsb2dvdXRVc2VyOiBmdW5jdGlvbiBsb2dvdXRVc2VyKGNvbnRleHQpIHsKICAgIGlmIChjb250ZXh0LmdldHRlcnMuaXNMb2dpbmVkKSB7CiAgICAgIHZhciBjb25maWcgPSB7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAwLycsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoZW50aWNhdGUnKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnbG9nT3V0Jyk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdhdXRoZW50aWNhdGUnKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnbG9nT3V0Jyk7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIHJlZ2lzdGVyVXNlcjogZnVuY3Rpb24gcmVnaXN0ZXJVc2VyKF9yZWY2LCBwYXlsb2FkKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgcXVlcnk6ICJtdXRhdGlvbiB7XG4gIHJlZ2lzdGVyKFxuICAgIGVtYWlsOiBcIiIuY29uY2F0KHBheWxvYWQuZW1haWwsICJcIixcbiAgICBwYXNzd29yZDogXCIiKS5jb25jYXQocGF5bG9hZC5wYXNzd29yZCwgIlwiXG4gIClcbn0iKSwKICAgICAgICB2YXJpYWJsZXM6IHt9CiAgICAgIH0pOwogICAgICB2YXIgY29uZmlnID0gewogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC8nLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGRhdGE6IGRhdGEKICAgICAgfTsKICAgICAgYXhpb3MoY29uZmlnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsKICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBhZGRQb3N0OiBmdW5jdGlvbiBhZGRQb3N0KF9yZWY3LCBwYXlsb2FkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJ2h0dHBzOi8vc3BhLWJsb2ctM2RhMzcuZmlyZWJhc2Vpby5jb20vcG9zdHMuanNvbicsIHsKICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ25ld1Bvc3QnLCByZXMuZGF0YS5wYXlsb2FkKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU1KTsKICAgIH0pKSgpOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRQb3N0czogZnVuY3Rpb24gc2V0UG9zdHMoc3RhdGUsIHBvc3RMaXN0KSB7CiAgICByZXR1cm4gc3RhdGUucG9zdExpc3QgPSBwb3N0TGlzdDsKICB9LAogIHNldExhdGVzdFBvc3RzOiBmdW5jdGlvbiBzZXRMYXRlc3RQb3N0cyhzdGF0ZSwgbGF0ZXN0UG9zdHMpIHsKICAgIHJldHVybiBzdGF0ZS5sYXRlc3RQb3N0cyA9IGxhdGVzdFBvc3RzOwogIH0sCiAgc2luZ2xlUG9zdDogZnVuY3Rpb24gc2luZ2xlUG9zdChzdGF0ZSwgX3NpbmdsZVBvc3QpIHsKICAgIHJldHVybiBzdGF0ZS5zaW5nbGVQb3N0ID0gX3NpbmdsZVBvc3Q7CiAgfSwKICBzZXRMb2FkTW9yZVBvc3RzOiBmdW5jdGlvbiBzZXRMb2FkTW9yZVBvc3RzKHN0YXRlLCBsb2FkTW9yZVBvc3RzKSB7CiAgICByZXR1cm4gc3RhdGUubG9hZE1vcmVQb3N0cyA9IGxvYWRNb3JlUG9zdHM7CiAgfSwKICBzZXRBdXRoS2V5OiBmdW5jdGlvbiBzZXRBdXRoS2V5KHN0YXRlLCBhdXRoS2V5KSB7CiAgICByZXR1cm4gc3RhdGUuYXV0aEtleSA9IGF1dGhLZXk7CiAgfSwKICBsb2dPdXQ6IGZ1bmN0aW9uIGxvZ091dChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmF1dGhLZXkgPSBudWxsOwogIH0sCiAgbmV3UG9zdDogZnVuY3Rpb24gbmV3UG9zdChzdGF0ZSwgcGF5bG9hZCkgewogICAgdmFyIG5ld1Bvc3QgPSB7CiAgICAgIGJvZHk6IHBheWxvYWQuY29udGVudCwKICAgICAgdGl0bGU6IHBheWxvYWQudGl0bGUsCiAgICAgIGltZzogcGF5bG9hZC5pbWcKICAgIH07CiAgICBzdGF0ZS5wb3N0TGlzdC51bnNoaWZ0KG5ld1Bvc3QpOwogICAgY29uc29sZS5sb2coc3RhdGUucG9zdExpc3QubGVuZ3RoKTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zCn07"},{"version":3,"sources":["/Users/rj/Trainings/GoalSPA/spa_blog/src/store/modules/post.js"],"names":["axios","state","postList","latestPosts","loadMorePosts","singlePost","authKey","localStorage","getItem","getters","allPosts","allLatestPosts","postDetail","allLoadMorePosts","isLogined","actions","fetchPosts","commit","data","JSON","stringify","query","variables","config","method","url","headers","then","response","posts","fetchLatestPosts","fetchSinglePost","id","post","fetchLoadMorePosts","loginUser","payload","Promise","resolve","email","password","console","log","key","authenticate","setItem","logoutUser","context","removeItem","catch","error","registerUser","reject","addPost","res","mutations","setPosts","setLatestPosts","setLoadMorePosts","setAuthKey","logOut","newPost","body","content","title","img","unshift","length"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nconst state = {\n  postList: [],\n  latestPosts: [],\n  loadMorePosts: [],\n  singlePost: {},\n  authKey: localStorage.getItem('authenticate') || null\n}\n\nconst getters = {\n  allPosts: (state) => state.postList,\n  allLatestPosts: (state) => state.latestPosts,\n  postDetail: (state) => state.singlePost,\n  allLoadMorePosts: (state) => state.loadMorePosts,\n  isLogined: () => { return state.authKey !== null }\n}\n\nconst actions = {\n  async fetchPosts ({ commit }) {\n    const data = JSON.stringify({\n      query: 'query{\\n  posts(\\n    pagination: {\\n      limit: 6,\\n      offset: 3\\n    }\\n  ){\\n    id, title, content, image, createdAt, comments {\\n      id, content\\n    }\\n  }\\n}',\n      variables: {}\n    })\n    const config = {\n      method: 'post',\n      url: 'http://localhost:4000/',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: data\n    }\n    await axios(config)\n      .then(function (response) {\n        commit('setPosts', response.data.data.posts)\n      })\n  },\n  async fetchLatestPosts ({ commit }) {\n    const data = JSON.stringify({\n      query: 'query{\\n  posts(\\n    pagination: {\\n      limit: 3,\\n      offset: 0\\n    }\\n  ){\\n    id, title, content, image, createdAt, comments {\\n      id, content\\n    }\\n  }\\n}',\n      variables: {}\n    })\n    const config = {\n      method: 'post',\n      url: 'http://localhost:4000/',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: data\n    }\n    await axios(config)\n      .then(function (response) {\n        commit('setLatestPosts', response.data.data.posts)\n      })\n  },\n  async fetchSinglePost ({ commit }, id) {\n    const data = JSON.stringify({\n      query: `query{\\n  post(\\n   id: ${id}\\n  ){\\n    id, title, content, image, createdAt, comments {\\n      id, content, createdAt\\n    }\\n  }\\n}`,\n      variables: {}\n    })\n    const config = {\n      method: 'post',\n      url: 'http://localhost:4000/',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: data\n    }\n    await axios(config)\n      .then(response => {\n        const postDetail = response.data.data.post\n        commit('singlePost', postDetail)\n      })\n  },\n  async fetchLoadMorePosts ({ commit }) {\n    const data = JSON.stringify({\n      query: 'query{\\n  posts(\\n    pagination: {\\n      limit: 6,\\n      offset: 6\\n    }\\n  ){\\n    id, title, content, image, createdAt, comments {\\n      id, content\\n    }\\n  }\\n}',\n      variables: {}\n    })\n    const config = {\n      method: 'post',\n      url: 'http://localhost:4000/',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: data\n    }\n    await axios(config)\n      .then(function (response) {\n        commit('setLoadMorePosts', response.data.data.posts)\n      })\n  },\n  // async fetchPostDetail ({ commit }, postId) {\n  //   const data = JSON.stringify({\n  //     query: `query{\\n  post(\\n   id: ${postId}\\n  ){\\n    id, title, content, image, createdAt, comments {\\n      id, content, createdAt\\n    }\\n  }\\n}`,\n  //     variables: {}\n  //   })\n  //   const config = {\n  //     method: 'post',\n  //     url: 'http://localhost:4000/',\n  //     headers: {\n  //       'Content-Type': 'application/json'\n  //     },\n  //     data: data\n  //   }\n  //   await axios(config)\n  //     .then(function (response) {\n  //       commit('setPostDetail', response.data.data.posts)\n  //     })\n  // },\n  loginUser ({ commit }, payload) {\n    return new Promise((resolve) => {\n      const data = JSON.stringify({\n        query: `mutation {\\n  authenticate(\\n    email: \"${payload.email}\",\\n    password: \"${payload.password}\"\\n  )\\n}`,\n        variables: {}\n      })\n      const config = {\n        method: 'post',\n        url: 'http://localhost:4000/',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: data\n      }\n      axios(config)\n        .then(function (response) {\n          console.log(JSON.stringify(response.data))\n          const key = response.data.data.authenticate\n          localStorage.setItem('authenticate', key)\n          commit('setAuthKey', key)\n          resolve(response)\n        })\n    })\n  },\n  logoutUser (context) {\n    if (context.getters.isLogined) {\n      const config = {\n        method: 'post',\n        url: 'http://localhost:4000/',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }\n      axios(config)\n        .then(function (response) {\n          localStorage.removeItem('authenticate')\n          context.commit('logOut')\n        })\n        .catch(function (error) {\n          localStorage.removeItem('authenticate')\n          context.commit('logOut')\n          console.log(error)\n        })\n    }\n  },\n  registerUser ({ commit }, payload) {\n    return new Promise((resolve, reject) => {\n      const data = JSON.stringify({\n        query: `mutation {\\n  register(\\n    email: \"${payload.email}\",\\n    password: \"${payload.password}\"\\n  )\\n}`,\n        variables: {}\n      })\n      const config = {\n        method: 'post',\n        url: 'http://localhost:4000/',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        data: data\n      }\n      axios(config)\n        .then(function (response) {\n          console.log(JSON.stringify(response.data))\n          resolve(response)\n        })\n        .catch(function (error) {\n          console.log(error)\n          reject(error)\n        })\n    })\n  },\n\n  async addPost ({ commit }, payload) {\n    const res = await axios.post('https://spa-blog-3da37.firebaseio.com/posts.json', { payload })\n\n    commit('newPost', res.data.payload)\n  }\n}\n\nconst mutations = {\n  setPosts: (state, postList) => (state.postList = postList),\n  setLatestPosts: (state, latestPosts) => (state.latestPosts = latestPosts),\n  singlePost: (state, singlePost) => (state.singlePost = singlePost),\n  setLoadMorePosts: (state, loadMorePosts) => (state.loadMorePosts = loadMorePosts),\n  setAuthKey: (state, authKey) => (state.authKey = authKey),\n  logOut: (state) => (state.authKey = null),\n  newPost: (state, payload) => {\n    const newPost = {\n      body: payload.content,\n      title: payload.title,\n      img: payload.img\n    }\n    state.postList.unshift(newPost)\n    console.log(state.postList.length)\n  }\n}\n\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}\n"]}]}